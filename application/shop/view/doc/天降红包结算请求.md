
## 天降红包结算请求

功能：

1. 用户进入天降红包页面后，点击play按钮后，客户端根据用户点击的红包，向该接口发请求。
1. 查uid
1. 查token
1. 查时间段是否合适
1. 查用户一分钟内有无点击play按钮
1. 查用户当天是否已结算过。
1. 查用户的浏览器代理是否和点击play按钮时保持一致。
1. 数据库里查出刚才发给该用户的id总列表
1. 根据用户传来的id列表，在总列表里查出各个值。然后计算，统计，并返回给客户端，客户端根据我的返回显示在手机上。
1. 目前不能完全防止作弊，假设用户知道base64编码能反解

~~~
/game/moneyrain/balance
~~~

| 请求参数字段        | 请求参数含义  |
| -------- |:------|
|uid|当前用户id|
|token|当前用户token|
|ids|红包的id列表，类似10001,10003，用户点击多少，就传来多少。|

| 返回字段        | 类型 |含义  |
| -------- |:------|:------|
| server_time     | int | 服务器当前时间，单位秒 |
| final_count     | int | 排除用户开始的手续费20，单纯计算游戏中的收益，可能正，可能负，单位是波币 |
| result     | array | 对象数组，长度不固定，因为普通红包的类型有几个，示例见下。注意，不要管sum字段。 |

result 示例
~~~
[
  { "name": "2bo币红包", "count":9, "sum":18},
  { "name": "10bo币红包","count":2, "sum":20},
  { "name": "红包炸弹",   "count":3, "sum":-10},
  { "name": "红包翻倍",   "count":0, "sum":0},
]
~~~

