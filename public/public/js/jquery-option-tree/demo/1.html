<html>
<head>
<!-- include needed JS files-->
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="../jquery.optionTree.js"></script>
<style type="text/css">
select.vertical {
    display: block;
}
.results {
    margin: 10px;
    color: darkgreen;
}
</style>
</head>
<body>
<h1>Demo for optionTree plugin</h1>



<input type="text" name="demo5" style='display:none' />
<input type=hidden name="demo5_v" value="0" />
<script type="text/javascript">
$(function() {
    var options = {
            empty_value: 'null',
            indexed: true,  
            on_each_change: '/area/tree', 
            choose: function(level) {
                return '请选择' ;
            }
            ,preselect: {'demo5': ['1']}
    };
    $.getJSON('/area/tree', function(tree) { 
        $('input[name=demo5]').optionTree(tree, options).change();
    });
});
function getreal(temp){
    if (!temp) {
        return 0;
    }else{
        return temp;
    }
}
function get_tree_value(){
   var temp3 = 0;
    if ($('[name=demo5___]').length > 0) {
       var temp3=  getreal($('[name=demo5___]').val());
    }
    var temp2 = 0;
    if ($('[name=demo5__]').length > 0) {
       var temp2=  getreal($('[name=demo5__]').val());
    }
    var temp1 = 0;
    if ($('[name=demo5_]').length > 0) {
       var temp1=  getreal($('[name=demo5_]').val());
    }
    if (temp3>0) {
        return temp3;
    }
    if (temp2>0){
        return temp2;
    }
    return temp1;
}

</script>


</body>
</html>
